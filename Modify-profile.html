<!--
<?php
 
 session_start();
 include "dbConfig.php";

 $result = showProfile();

if ($result === updateResult::ERROR_NOTLOGGED) {
    // Utente non autenticato, gestisci di conseguenza
} elseif ($result === updateResult::ERROR_DB) {
    // Errore di connessione al database, gestisci di conseguenza
} elseif ($result === updateResult::ERROR_UPDATE) {
    // Altri errori durante l'esecuzione della query, gestisci di conseguenza
} else {
    // La funzione ha restituito un JSON con i dati del profilo
    // Puoi utilizzare json_decode per convertire il JSON in un array associativo
    $profileData = json_decode($result, true);

    // Ora $profileData contiene i dati del profilo, puoi fare quello che desideri con essi
    // Ad esempio, stampare i dati
    echo "First Name: " . $profileData['firstname'] . "<br>";
    echo "Last Name: " . $profileData['lastname'] . "<br>";
    echo "Email: " . $profileData['email'] . "<br>";
}
?>
-->

<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
   
    <!-- Nome e Icona -->
    <title>Modifica del profilo</title>
    <link rel="icon" type="image/x-icon" href="817451-84.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="style-homepage.css">

    <style>
    body{
      background:#f9f9fb;    
    }

    .view-account{
      background:#FFFFFF; 
      margin-top:20px;
      margin-bottom:20px;
      font-size: 0.875rem;
      font-weight: 400;
      line-height: 1;
      color: #69707a;
    }

    .fieldset-title {
      padding-bottom: 15px;
      border-bottom: 1px solid #eaeaf1;
      margin-bottom: 30px;
      color: #616670;
      font-size: 16px
    }

    .view-account .file-uploader {
    margin-bottom: 15px
    }

    .view-account .title {
    margin-bottom: 15px;
    margin-top: 10px;
    font-size: 18px
    }

    </style>
    
  </head>

  <body>
    
    <nav class="navbar navbar-dark" style="background-color: #6FD08C; height: 8vh;" >
        <div class="container-fluid">
          <a class="navbar-brand" href="#" style="color:black;">
            <img src="817451-84.png" alt="EmojiSorridente" width="30" height=auto class="d-inline-block align-text-top">
            Meme<span class="fw-bolder">Bank</span>
          <!--
            <div class="position-absolute top-0 end-0 me-2 mt-2">
            <button type="button" class="btn btn-outline-dark" style="border-radius: 35px;"> Accedi </button>
            <button type="button" class="btn btn-outline-dark" style="border-radius: 35px;"> Iscriviti </button>
            </div>
          -->
       </a>
     </div>
    </nav>

  <div class="container">
    <div class="view-account">
        <div class="row">
          <!-- Colonna a Sinistra -->
          <!-- aggiungendo a col-md-3 la classe border-end si aggiunge il bordo destro che però rimane anche quando si stringe la pagina-->
          <div class="col-md-3">
            <img class="img-fluid rounded-circle mx-auto d-block" style="width: 110px; height: auto; margin-top: 10px;" src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="user profile picture">
             <ul class="list-unstyled">
             <li class="lead text-center">Rebecca Sanders</li>
             </ul>
            <div class="list-group">
              <a href="#" class="list-group-item list-group-item-action">Link 1</a>
              <a href="#" class="list-group-item list-group-item-action">Link 2</a>
              <a href="#" class="list-group-item list-group-item-action">Link 3</a>
            </div>
          </div>
      
          <!-- Sezione Divisa a Destra -->
          <div class="col-md-9">
            <form action="update_profile.php" method="post">
            <!-- Prima Riga a Destra -->
            <div class="row mb-4">
              <div class="col-md-12">
                <h2 class="lead fw-bolder title"> Profilo </h2>
                <fieldset class="fieldset"> 
                <h3 class="fieldset-title">Informazioni personali </h3>
                <!--class="form-inline col-md-10 col-sm-9 col-xs-12"-->
                <div class="form-group mb-3">
                  <label for="profile-image">Immagine profilo</label>
                  <input type="file" id="profile-image" name="profile-image" class="form-control-file">
                  <button type="submit" class="btn btn-sm" style="background-color: #6FD08C;">Update Image</button>
                </div>  
                <!-- delle prossime 6 righe vanno controllate le classi-->
                <div class="form-group">
                  <label for="username" class="col-sm-2 mb-1">Nome utente</label>
                  <input type="text" id="username" name="username" class="form-control mb-3" value="Rebecca">
                </div> 
                <div class="form-group">
                  <label for="firstname" class="col-md-2 col-sm-3 col-xs-12 mb-1">Nome</label>
                  <input type="text" id="firstname" name="firstname" class="form-control mb-3" value="<?php echo $profileData['firstname']; ?>">
                  </div> 
                </div>
                 <!-- delle prossime 6 righe vanno controllate le classi-->
                 <div class="form-group">
                  <label for="lastname" class="col-md-2 col-sm-3 col-xs-12 mb-1">Cognome</label>
                  <input type="text" id="lastname" name="lastname" class="form-control mb-3" value="<?php echo $profileData['lastname']; ?>">
                 </div>
                </fieldset>

              </div>
      
            <!-- Seconda Riga a Destra -->
            <div class="row">
              <div class="col-md-12">
                <fieldset class="fieldset"> 
                  <h3 class="fieldset-title">Account</h3>
                   <!-- delle prossime 7 righe vanno controllate le classi-->
                  <div class="form-group">
                    <label for="email" class="col-md-2  col-sm-3 col-xs-12 mb-1">Email</label>
                    <input type="email" id="email" name="email" class="form-control" value="<?php echo $profileData['email']; ?>">
                    <p class="form-text text-muted mb-3">eg. info@meme-bank.com </p>
                    </div>
                   <div class="form-group">
                    <label for="pass" class="col-md-2 col-sm-3 col-xs-12 mb-1">Password</label>
                    <input type="password" id="pass" name="pass" class="form-control mb-3" value="Rebecca">
                  </div>             
                  </fieldset>
                  <hr>
                  <div class="row">
                   <!-- controlla la classe form-group seguente-->
                  <div class="form-group">
                  <div class="col-md-10 col-sm-9 col-xs-12 col-md-push-2 col-sm-push-3 col-xs-push-0">
                  <div class="text-center">
                  <input class="btn btn-primary" type="submit" value="Update Profile" style="background-color: #6FD08C;border-color: #6FD08C; margin-bottom: 10px; color: black; border-radius: 5px;">
                  </div>
                  </div>
                  </div>
                  </div>
              </div>
            </div>
          </form>
          </div>
        </div>
      </div>
    </div>
      


  <footer class="footer text-black" style="background-color: #6FD08C;">
    <div class="container" style="position: relative; top: 20px;">
        <div class="row">
            <div class="col-md-4" style="margin-bottom: 20px;">
                <h4 style="font-size: 20px;">Seguici</h4>
                <div class="wrapper">
                  <div class="icon facebook" id="facebook-icon">
                    <div class="tooltip">Facebook</div>
                    <span><i class="fab fa-facebook"> </i></span>
                  </div>
                </div>
                <div class="wrapper">
                  <div class="icon instagram" id="instagram-icon">
                    <div class="tooltip">Instagram</div>
                    <span><i class="fab fa-instagram"> </i></span>
                  </div>
                </div>
                <div class="wrapper">
                  <div class="icon github" id="github-icon">
                    <div class="tooltip">Github</div>
                    <span><i class="fab fa-github"> </i></span>
                  </div>
                </div>
                <div class="wrapper">
                  <div class="icon youtube" id="youtube-icon">
                    <div class="tooltip">Youtube</div>
                    <span><i class="fab fa-youtube"> </i></span>
                  </div>
                </div>
            </div>
            <div class="col-md-4" style="margin-bottom: 10px;">
                <h4 style="font-size: 20px;">Contatti</h4>
                <p style="font-size: 15px; margin-bottom: 5px;">Email: info@meme-bank.com</p>
                <p style="font-size: 15px;">Telefono: +123 456 7890</p>
            </div>
            <div class="col-md-4" style="margin-bottom: 10px;">
              <h4 style="font-size: 20px;">Su di noi</h4>
              <p style="font-size: 15px; margin-bottom: 5px;"><a class="text-reset" href="nopage.html">Chi siamo</a></p>
              <p style="font-size: 15px;"> <a class="text-reset" href="nopage.html">Novità</a></p>
          </div>
        </div>
        <div class="row" style="margin-top:5vh; font-size: 15px;">
            <div class="col-md-12 text-center" style="bottom: 0;">
                <p>&copy; 2024 MemeBank | Tutti i diritti riservati | <a href="nopage.html" class="text-reset">Termini e Condizioni</a> | <a href="nopage.html" class="text-reset">Privacy Policy</a> </p>
            </div>
        </div>
    </div>
  </footer>



    <script src ="./Homepage.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
  </body>
</html>